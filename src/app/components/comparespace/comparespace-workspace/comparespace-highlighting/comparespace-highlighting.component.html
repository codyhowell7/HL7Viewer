<div *ngIf='leftSide'>
  <div *ngIf='getM1DiscrepSize() === 0'>
    <div *ngFor='let segment of getFullLeftMessage()' class='fullLine'>
      <p> {{segment}} <br> </p>
    </div>
  </div>
  <div *ngFor='let segDiscrepancy of getM1Discrep(); let i = index'>
    <div *ngIf='missingSegment(segDiscrepancy)' class='fullLine' class='missingLine'>
      <p class='missingLine'><br></p>
    </div>
    <div *ngIf='rightSideMissing(i)' class='fullLine' class='missingLine'>
      <p class='missingLine'> {{getSegment(getLeftCorrectedIndex(i), 0)}} </p>
    </div>
    <div *ngIf='!missingSegment(segDiscrepancy) && !rightSideMissing(i)' class='fullLine' >
        <p>{{getSegmentHeader(getLeftCorrectedIndex(i), 0)}} </p>
      <div *ngFor='let field of getFields(getLeftCorrectedIndex(i), 0); let fieldIndex = index'>
        <div *ngIf='!fieldNoMatchMissing(getLeftCorrectedIndex(i), fieldIndex)'>
          <p *ngIf='fieldIndex < 2 && i === 0'><mark class='missingField'>{{field.value}}</mark></p>
          <p *ngIf='fieldIndex >= 2 && i === 0'>|<mark class='missingField'>{{field.value}}</mark></p>
          <p *ngIf='fieldIndex >= 0 && i > 0'>|<mark class='missingField'>{{field.value}}</mark></p>
        </div>
        <div *ngIf='fieldNoMatchMissing(getLeftCorrectedIndex(i), fieldIndex)'>
          <p *ngIf='fieldIndex < 2 && i === 0'>{{field.value}}</p>
          <p *ngIf='fieldIndex >= 2 && i === 0'>|{{field.value}}</p>
          <p *ngIf='fieldIndex >= 0 && i > 0'>|{{field.value}}</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf='!leftSide'>
  <div *ngIf='getM2DiscrepSize() === 0'>
    <div *ngFor='let segment of getFullRightMessage()' class='fullLine'>
      <p> {{segment}} <br> </p>
    </div>
  </div>
  <div *ngFor='let segDiscrepancy of getM2Discrep(); let i = index'>
    <div *ngIf='missingSegment(segDiscrepancy)' class='fullLine' class='missingLine'>
      <p class='missingLine'><br></p>
    </div>
    <div *ngIf='leftSideMissing(i)' class='fullLine' class='missingLine'>
      <p class='missingLine'> {{getSegment(getRightCorrectedIndex(i), 1)}} </p>
    </div>
    <div *ngIf='!missingSegment(segDiscrepancy) && !leftSideMissing(i)' class='fullLine'>
        <p>{{getSegmentHeader(getRightCorrectedIndex(i), 1)}} </p>
      <div *ngFor='let field of getFields(getRightCorrectedIndex(i), 1); let fieldIndex = index'>
        <div *ngIf='!fieldNoMatchMissing(getRightCorrectedIndex(i), fieldIndex)'>
          <p *ngIf='fieldIndex < 2 && i === 0'><mark class='missingField'>{{field.value}}</mark></p>
          <p *ngIf='fieldIndex >= 2 && i === 0'>|<mark class='missingField'>{{field.value}}</mark></p>
          <p *ngIf='fieldIndex >= 0 && i > 0'>|<mark class='missingField'>{{field.value}}</mark></p>
        </div>
        <div *ngIf='fieldNoMatchMissing(getRightCorrectedIndex(i), fieldIndex)'>
          <p *ngIf='fieldIndex < 2 && i === 0'>{{field.value}}</p>
          <p *ngIf='fieldIndex >= 2 && i === 0'>|{{field.value}}</p>
          <p *ngIf='fieldIndex >= 0 && i > 0'>|{{field.value}}</p>
      </div>
    </div>
  </div>
</div>