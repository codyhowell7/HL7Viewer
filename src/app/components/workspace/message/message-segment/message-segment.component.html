<span>{{segment.segmentName}}<span *ngFor='let field of segment.hl7Fields; let fIndex = index'><span *ngIf='correctIndex(sIndex, fIndex)' class='pipe'>|</span><span *ngIf='correctIndex(sIndex, fIndex) && !field.hasHL7Components && !field.hasRepetition'><span *ngIf='!controlChars(sIndex, fIndex)'><span [ngClass]="{ 'highlight': isHightlighted(segment.segmentName, fIndex)}">{{field.value}}</span></span><span *ngIf='controlChars(sIndex, fIndex)'><span class='carrot'>^</span><span class='tild'>~</span>\<span class='and'>&</span></span></span><span *ngIf='field.hasHL7Components && !field.hasRepetition'><hls-message-component *ngFor='let component of field.hl7Components; let cIndex = index' [component]='component' [cIndex]='cIndex' [fIndex]='fIndex' [segName]='segment.segmentName' [highlight]='highlight'></hls-message-component></span><span *ngIf='field.hasRepetition && !field.hasHL7Components'><hls-message-repeat *ngFor='let repeat of field.hl7RepeatedFields; let rIndex = index' [repeat]='repeat' [rIndex]='rIndex' [fIndex]='fIndex' [segName]='segment.segmentName' [highlight]='highlight'></hls-message-repeat></span></span></span> <br>